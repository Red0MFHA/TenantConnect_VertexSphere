<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.tenantconnect.Tenant.RequestExtensionController"
      spacing="28"
      alignment="TOP_LEFT">

    <padding>
        <Insets top="32" left="40" right="40" bottom="32"/>
    </padding>

    <!-- Header -->
    <VBox spacing="6">
        <Label text="Request Payment Extension"
               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #1e40af;"/>
        <Label text="Select a property and request more time to pay rent"
               style="-fx-font-size: 14; -fx-text-fill: #64748b;"/>
    </VBox>

    <!-- Property Selection -->
    <VBox spacing="10">
        <Label text="Select Property" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
        <ComboBox fx:id="propertyComboBox"
                  prefWidth="520"
                  promptText="Choose a property with pending rent..."/>
    </VBox>

    <!-- Current Due Date Card (updates when property selected) -->
    <StackPane style="-fx-background-color: #f0f9ff; -fx-background-radius: 12; -fx-padding: 20;">
        <HBox spacing="16" alignment="CENTER_LEFT">
            <Label text="calendar_today"
                   style="-fx-font-family: 'Material Icons'; -fx-font-size: 36px; -fx-text-fill: #0369a1;"/>
            <VBox spacing="4">
                <Label text="Current Due Date" style="-fx-font-size: 13; -fx-text-fill: #475569;"/>
                <Label fx:id="currentDueDateLabel"
                       text="Select	property above"
                       style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: #1e40af;"/>
            </VBox>
        </HBox>
    </StackPane>

    <!-- Form -->
    <VBox spacing="24" maxWidth="560">

        <VBox spacing="8">
            <Label text="New Requested Due Date" style="-fx-font-size: 15; -fx-font-weight: bold;"/>
            <DatePicker fx:id="requestedDatePicker" prefWidth="340"/>
        </VBox>

        <VBox spacing="8">
            <Label text="Reason for Extension" style="-fx-font-size: 15; -fx-font-weight: bold;"/>
            <TextArea fx:id="reasonTextArea"
                      promptText="Explain why you need more time..."
                      prefRowCount="6"
                      wrapText="true"/>
        </VBox>

        <HBox spacing="16">
            <Button text="Submit Request"
                    fx:id="submitButton"
                    onAction="#submitExtensionRequest"
                    disable="true"
                    style="-fx-background-color: #dc2626; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 32; -fx-background-radius: 8;"/>
            <Button text="Cancel"
                    onAction="#onCancel"
                    style="-fx-background-color: #e2e8f0; -fx-padding: 12 24; -fx-background-radius: 8;"/>
        </HBox>
    </VBox>
</VBox>